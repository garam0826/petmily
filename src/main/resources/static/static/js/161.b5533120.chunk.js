"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[161],{131:(e,s,n)=>{n.d(s,{A:()=>o});n(43);var i=n(216),r=n(475),a=n(3),t=n(306),c=n(547),l=(n(790),n(579));const o=function(){const e=(0,i.Zp)(),s=(0,a.wA)(),n=t.A.getState();return(0,l.jsxs)("div",{className:"menubar",children:[n.isLoggedIn?(0,l.jsx)("button",{className:"login",onClick:()=>{s((0,c.ri)()),e("/main")},children:"\ub85c\uadf8\uc544\uc6c3"}):(0,l.jsx)("button",{className:"login",onClick:()=>e("/member/login"),children:"\ub85c\uadf8\uc778"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{onClick:()=>e("/main"),children:"\ud648"}),(0,l.jsx)("li",{onClick:()=>e("/animal"),children:"\ubcf4\ud638 \uc911\uc778 \ub3d9\ubb3c"}),(0,l.jsx)("li",{onClick:()=>e("/recommend"),children:"\ubc18\ub824\uacac \ucd94\ucc9c"}),(0,l.jsx)("li",{onClick:()=>e("/board/list"),children:"\uac8c\uc2dc\ud310"}),(0,l.jsx)("li",{onClick:()=>e("/"),children:"\uc720\uae30\uacac \uc785\uc591 \uacfc\uc815"}),(0,l.jsxs)("li",{className:"dropdown",children:[(0,l.jsx)("span",{children:"\ud68c\uc6d0 \uc815\ubcf4"}),(0,l.jsxs)("div",{className:"dropdown-content",children:[(0,l.jsx)(r.N_,{to:"/member/mypage",children:"\uc815\ubcf4 \ud655\uc778 \ubc0f \uc218\uc815"}),(0,l.jsx)(r.N_,{to:"/member/mypage/mycart",children:"\ucc1c \ubaa9\ub85d"}),(0,l.jsx)(r.N_,{to:"/member/mypage",children:"\ub0b4\uac00 \uc791\uc131\ud55c \uae00\uacfc \ub313\uae00"})]})]})]})]})}},161:(e,s,n)=>{n.r(s),n.d(s,{default:()=>h});var i=n(43),r=n(3),a=n(154),t=n(131),c=(n(790),n(492),n(261),n(306)),l=(n(917),n(579));const o=e=>{let{matches:s,loading:n,error:r,removeFavorite:t,getMemberDesertionNo:o}=e;const d=c.A.getState(),[h,m]=(d.isLoggedIn&&d.userData.mem_id,(0,i.useState)({})),[x,j]=(0,i.useState)({}),[u,v]=(0,i.useState)(null);(0,i.useEffect)((()=>{s.forEach((e=>{const s=e.desertionNo||e;h[s]||(async e=>{try{const s=await a.A.get("/api/animal/".concat(e));m((n=>({...n,[e]:s.data}))),await p(e,s.data.popfile)}catch(r){console.error("Error fetching animal info:",r),v("Error fetching animal info")}})(s)}))}),[s]);const p=async(e,s)=>{try{const n=await a.A.get("/api/animal/analyze",{params:{desertionNo:e,popfile:s}});j((s=>({...s,[e]:n.data})))}catch(r){console.error("Error analyzing image:",r)}};if(n)return(0,l.jsx)("div",{children:"Loading..."});if(r)return(0,l.jsx)("div",{children:r});if(u)return(0,l.jsx)("div",{children:u});const f=e=>{if(!e)return"\ub0a0\uc9dc \uc815\ubcf4 \uc5c6\uc74c";const s=e.substring(0,4),n=e.substring(4,6),i=e.substring(6,8);return"".concat(s,"\ub144 ").concat(parseInt(n,10),"\uc6d4 ").concat(parseInt(i,10),"\uc77c")};return(0,l.jsx)("div",{children:(0,l.jsxs)("main",{className:"container",children:[(0,l.jsx)("div",{"data-case":"text79",className:"userEL15637124",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row","data-matrix-loop":"true","data-matrix-column":"1",children:(0,l.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 item",children:(0,l.jsxs)("div",{className:"cl_caption","data-edit":"true","data-selector":".cl_caption",children:[(0,l.jsx)("hr",{className:"fr-hr",style:{borderBottom:"2px solid #d6d7d8",width:"35px",margin:"0 auto"},align:"center"}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"fsize13",children:(0,l.jsx)("span",{style:{color:"rgb(138, 139, 142)",fontFamily:"'Nanum Barun Gothic'"},children:(0,l.jsx)("br",{})})})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{style:{fontFamily:"'Seoul Namsan'",fontSize:"30px"},children:"\ucc1c \ubaa9\ub85d"})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"fsize13",children:(0,l.jsx)("span",{style:{color:"rgb(138, 139, 142)",fontFamily:"'Nanum Barun Gothic'"},children:"\u200b"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"fsize13",children:(0,l.jsxs)("span",{style:{color:"rgb(138, 139, 142)",fontFamily:"'Nanum Barun Gothic'"},children:["(\uc0ac\uc9c4 \uc704\uc5d0 \ub9c8\uc6b0\uc2a4\ub97c \uc62c\ub9ac\uba74, \ub354 \uc790\uc138\ud55c \uc815\ubcf4\ub97c \ubcf4\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.)",(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})})}),(0,l.jsx)("hr",{className:"fr-hr",style:{borderBottom:"2px solid #d6d7d8",width:"35px",margin:"0 auto"},align:"center"}),(0,l.jsx)("div",{children:(0,l.jsx)("br",{})})]})})})})}),0===s.length?(0,l.jsx)("div",{children:"No matches found"}):(0,l.jsx)("div",{className:"grid-container",children:s.map((e=>{var s,n,i,r,a,c,d,m,x;const j=e.desertionNo||e;return(0,l.jsx)("div",{className:"card",children:h[j]&&(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:null===(s=h[j])||void 0===s?void 0:s.popfile,alt:"Animal"}),(0,l.jsxs)("div",{className:"analysis-results",children:[(0,l.jsx)("br",{}),(0,l.jsxs)("p",{children:["\ubc1c\uacac \ub0a0\uc9dc: ",f(null===(n=h[j])||void 0===n?void 0:n.happenDt)]}),(0,l.jsxs)("p",{children:["\ubc1c\uacac \uc7a5\uc18c: ",null===(i=h[j])||void 0===i?void 0:i.happenPlace]}),(0,l.jsxs)("p",{children:["\ub098\uc774: ",null===(r=h[j])||void 0===r?void 0:r.age]}),(0,l.jsxs)("p",{children:["\ubb34\uac8c: ",null===(a=h[j])||void 0===a?void 0:a.weight]}),(0,l.jsxs)("p",{children:["\uacf5\uace0 \uc2dc\uc791 \ub0a0\uc9dc: ",f(null===(c=h[j])||void 0===c?void 0:c.noticeSdt)]}),(0,l.jsxs)("p",{children:["\uacf5\uace0 \uc885\ub8cc \ub0a0\uc9dc: ",f(null===(d=h[j])||void 0===d?void 0:d.noticeEdt)]}),(0,l.jsxs)("p",{children:["\uc131\ubcc4: ",null===(m=h[j])||void 0===m?void 0:m.sexCd]}),(0,l.jsxs)("p",{children:["\uc911\uc131\ud654 \uc5ec\ubd80: ",null===(x=h[j])||void 0===x?void 0:x.neuterYn]}),(0,l.jsx)("button",{onClick:()=>t(j),children:"\ucc1c \uc81c\uac70"}),(0,l.jsx)("button",{onClick:()=>o(j),children:"\ucc1c\ud55c \uc0ac\uc6a9\uc790 \ubcf4\uae30"})]})]})},j)}))})]})})},d=e=>{let{matches:s,loading:n,error:r}=e;const t=c.A.getState(),[o,d]=(t.isLoggedIn&&t.userData.mem_id,(0,i.useState)({})),[h,m]=(0,i.useState)({}),[x,j]=(0,i.useState)(null);(0,i.useEffect)((()=>{s.forEach((e=>{const s=e.desertionNo||e;o[s]||(async e=>{try{const s=await a.A.get("/api/animal/".concat(e));d((n=>({...n,[e]:s.data}))),await u(e,s.data.popfile)}catch(r){console.error("Error fetching animal info:",r),j("Error fetching animal info")}})(s)}))}),[s]);const u=async(e,s)=>{try{const n=await a.A.get("/api/animal/analyze",{params:{desertionNo:e,popfile:s}});m((s=>({...s,[e]:n.data})))}catch(r){console.error("Error analyzing image:",r)}};if(n)return(0,l.jsx)("div",{children:"Loading..."});if(r)return(0,l.jsx)("div",{children:r});if(x)return(0,l.jsx)("div",{children:x});const v=e=>{if(!e)return"\ub0a0\uc9dc \uc815\ubcf4 \uc5c6\uc74c";const s=e.substring(0,4),n=e.substring(4,6),i=e.substring(6,8);return"".concat(s,"\ub144 ").concat(parseInt(n,10),"\uc6d4 ").concat(parseInt(i,10),"\uc77c")};return(0,l.jsx)("div",{children:(0,l.jsxs)("main",{className:"container",children:[(0,l.jsx)("div",{"data-case":"text79",className:"userEL15637124",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row","data-matrix-loop":"true","data-matrix-column":"1",children:(0,l.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 item",children:(0,l.jsxs)("div",{className:"cl_caption","data-edit":"true","data-selector":".cl_caption",children:[(0,l.jsx)("hr",{className:"fr-hr",style:{borderBottom:"2px solid #d6d7d8",width:"35px",margin:"0 auto"},align:"center"}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"fsize13",children:(0,l.jsx)("span",{style:{color:"rgb(138, 139, 142)",fontFamily:"'Nanum Barun Gothic'"},children:(0,l.jsx)("br",{})})})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{style:{fontFamily:"'Seoul Namsan'",fontSize:"30px"},children:"\ucc1c \ubaa9\ub85d"})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"fsize13",children:(0,l.jsx)("span",{style:{color:"rgb(138, 139, 142)",fontFamily:"'Nanum Barun Gothic'"},children:"\u200b"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"fsize13",children:(0,l.jsxs)("span",{style:{color:"rgb(138, 139, 142)",fontFamily:"'Nanum Barun Gothic'"},children:["(\uc0ac\uc9c4 \uc704\uc5d0 \ub9c8\uc6b0\uc2a4\ub97c \uc62c\ub9ac\uba74, \ub354 \uc790\uc138\ud55c \uc815\ubcf4\ub97c \ubcf4\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.)",(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})})}),(0,l.jsx)("hr",{className:"fr-hr",style:{borderBottom:"2px solid #d6d7d8",width:"35px",margin:"0 auto"},align:"center"}),(0,l.jsx)("div",{children:(0,l.jsx)("br",{})})]})})})})}),0===s.length?(0,l.jsx)("div",{children:"No matches found"}):(0,l.jsx)("div",{className:"grid-container",children:s.map((e=>{var s,n,i,r,a,t,c,d,h;const m=e.desertionNo||e;return(0,l.jsx)("div",{className:"card",children:o[m]&&(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:null===(s=o[m])||void 0===s?void 0:s.popfile,alt:"Animal"}),(0,l.jsxs)("div",{className:"analysis-results",children:[(0,l.jsx)("br",{}),(0,l.jsxs)("p",{children:["\ubc1c\uacac \ub0a0\uc9dc: ",v(null===(n=o[m])||void 0===n?void 0:n.happenDt)]}),(0,l.jsxs)("p",{children:["\ubc1c\uacac \uc7a5\uc18c: ",null===(i=o[m])||void 0===i?void 0:i.happenPlace]}),(0,l.jsxs)("p",{children:["\ub098\uc774: ",null===(r=o[m])||void 0===r?void 0:r.age]}),(0,l.jsxs)("p",{children:["\ubb34\uac8c: ",null===(a=o[m])||void 0===a?void 0:a.weight]}),(0,l.jsxs)("p",{children:["\uacf5\uace0 \uc2dc\uc791 \ub0a0\uc9dc: ",v(null===(t=o[m])||void 0===t?void 0:t.noticeSdt)]}),(0,l.jsxs)("p",{children:["\uacf5\uace0 \uc885\ub8cc \ub0a0\uc9dc: ",v(null===(c=o[m])||void 0===c?void 0:c.noticeEdt)]}),(0,l.jsxs)("p",{children:["\uc131\ubcc4: ",null===(d=o[m])||void 0===d?void 0:d.sexCd]}),(0,l.jsxs)("p",{children:["\uc911\uc131\ud654 \uc5ec\ubd80: ",null===(h=o[m])||void 0===h?void 0:h.neuterYn]})]})]})},m)}))})]})})};const h=function(){const e=(0,r.d4)((e=>e.userData)),s=e?e.mem_id:"",[n,c]=(0,i.useState)([]),[h,m]=(0,i.useState)([]),[x,j]=(0,i.useState)(""),[u,v]=(0,i.useState)(""),[p,f]=(0,i.useState)([]),[g,N]=(0,i.useState)(!0),[b,y]=(0,i.useState)([]),[S,w]=(0,i.useState)(!0),[E,A]=(0,i.useState)(null);(0,i.useEffect)((()=>{s&&k(s)}),[s]),(0,i.useEffect)((()=>{s&&(async()=>{try{const e=await a.A.get("/favorites/list?memId=".concat(s));y(e.data)}catch(e){A("Failed to fetch matches"),console.error(e)}finally{w(!1)}})()}),[s]);const k=e=>{a.A.get("/favorites/list?memId=".concat(e)).then((e=>{c(e.data)})).catch((e=>{console.error("Error fetching favorites: ",e)}))},C=e=>{v(e),(e=>{N(!0),a.A.get("/favorites/list?memId=".concat(e)).then((e=>{f(e.data)})).catch((e=>{console.error("Error fetching selected user's favorites: ",e)})).finally((()=>{N(!1)}))})(e)};return(0,l.jsxs)("div",{children:[(0,l.jsx)("header",{children:(0,l.jsx)(t.A,{})}),(0,l.jsx)("div",{children:(0,l.jsx)(o,{matches:b,loading:S,error:E,removeFavorite:e=>{a.A.delete("/favorites/remove?memId=".concat(s,"&desertionNo=").concat(e)).then((e=>{console.log("Favorite removed successfully"),k(s)})).catch((e=>{console.error("Error removing favorite: ",e)}))},getMemberDesertionNo:e=>{a.A.get("/favorites/members/".concat(e)).then((s=>{m(s.data),j(e)})).catch((e=>{console.error("Error fetching members: ",e)}))}})}),x&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"\ucc1c\ud55c \ub2e4\ub978 \uc0ac\uc6a9\uc790 \ubaa9\ub85d"}),(0,l.jsx)("div",{children:h.map((e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("button",{className:"signup custom-button",onClick:()=>C(e),children:"\uc774 \uc0ac\uc6a9\uc790\uc758 \ucc1c \ubaa9\ub85d \ubcf4\uae30"})]}),u===e&&(0,l.jsx)("div",{children:g?(0,l.jsx)("p",{children:"Loading..."}):(0,l.jsx)(d,{matches:p,loading:g,error:E})})]},e)))})]})]})}},261:()=>{},790:()=>{},917:(e,s,n)=>{n.d(s,{A:()=>i});const i={}},492:()=>{}}]);
//# sourceMappingURL=161.b5533120.chunk.js.map