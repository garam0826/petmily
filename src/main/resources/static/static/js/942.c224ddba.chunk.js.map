{"version":3,"file":"static/js/942.c224ddba.chunk.js","mappings":"uMAmEA,QA3DA,WACI,MAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,EAAQC,EAAAA,EAAMC,WAEdC,EAASH,EAAMI,WAAaJ,EAAMK,SAASC,OAAS,KA0B1D,OACIC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAACC,EAAAA,EAAI,KACLD,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJD,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,YAAUL,EAAO,cACpBM,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,OAAAD,UACID,EAAAA,EAAAA,MAAA,QAAMI,SAAUA,IAAMb,EAAS,yBAAyBU,SAAA,EACpDC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kDACJC,EAAAA,EAAAA,KAAA,UAAQG,KAAK,SAAQJ,SAAC,oCAG9BC,EAAAA,EAAAA,KAAA,UACAF,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,uDACJC,EAAAA,EAAAA,KAAA,UAAQI,QAASA,IAAMf,EAAS,yBAAyBU,SAAC,aAE9DC,EAAAA,EAAAA,KAAA,UACAF,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,uDACJC,EAAAA,EAAAA,KAAA,UAAQI,QAtCCC,UACjB,IACI,MAAMC,EAAa,CACfT,OAAQH,GAGY,aADDa,EAAAA,EAAMC,OAAO,wBAA0B,CAAEC,KAAMH,KACzDI,QACTC,MAAM,2CACNxB,GAASyB,EAAAA,EAAAA,OACTvB,EAAU,UAEVsB,MAAM,wEAEd,CAAE,MAAOE,GACLF,MAAM,wEACV,GAuBsCZ,SAAC,eAEnCC,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,UAAQI,QA/CKU,KACjB3B,GAASyB,EAAAA,EAAAA,OACTvB,EAAS,QAAQ,EA6CiBU,SAAC,aAG3C,C","sources":["member/MyPage.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logout } from './Reducer'; // Assuming the path to your sessionReducer file\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport store from './Store';\r\nimport axios from \"axios\";\r\nimport Menu from \"../Menu\";\r\n\r\nfunction MyPage() {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const state = store.getState();\r\n\r\n    const userId = state.isLoggedIn ? state.userData.mem_id : null;  //store 이용\r\n\r\n    const handleLogout = () => {\r\n        dispatch(logout());\r\n        navigate(\"/main\");\r\n    };\r\n\r\n    // api - 회원 탈퇴\r\n    const handleResign = async () => {\r\n        try {\r\n            const memberData = {\r\n                mem_id: userId\r\n            };\r\n            const response = await axios.delete('/member/MyPage/Resign',  { data: memberData });\r\n            if (response.status === 200) {\r\n                alert('회원 탈퇴 성공!');\r\n                dispatch(logout());\r\n                navigate((\"/main\"));\r\n            } else {\r\n                alert('회원 탈퇴에 실패했습니다.');\r\n            }\r\n        } catch (error) {\r\n            alert('회원 탈퇴에 실패했습니다.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Menu />\r\n            <h1>My Page</h1>\r\n            <p>Welcome, {userId}님!</p>\r\n            <hr/>\r\n            <div>\r\n                <form onSubmit={() => navigate(\"/member/mypage/myinfo\")}>\r\n                    <h2>내 정보 확인하기</h2>\r\n                    <button type=\"submit\">정보 확인</button>\r\n                </form>\r\n            </div>\r\n            <hr/>\r\n            <div>\r\n                <h2>회원정보 수정하기</h2>\r\n                <button onClick={() => navigate(\"/member/mypage/myedit\")}>edit</button>\r\n            </div>\r\n            <hr/>\r\n            <div>\r\n                <h2>회원정보 탈퇴하기</h2>\r\n                <button onClick={handleResign}>resign</button>\r\n            </div>\r\n            <hr/>\r\n            <button onClick={handleLogout}>Logout</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyPage;\r\n"],"names":["dispatch","useDispatch","navigate","useNavigate","state","store","getState","userId","isLoggedIn","userData","mem_id","_jsxs","children","_jsx","Menu","onSubmit","type","onClick","async","memberData","axios","delete","data","status","alert","logout","error","handleLogout"],"sourceRoot":""}